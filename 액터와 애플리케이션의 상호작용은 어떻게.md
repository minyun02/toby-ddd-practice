# 포트
- 애플리케이션이 외부 세계와 의도를 가지고 상호작용 하는 아이디어를 캡처한 것
- 단순히 데이터를 주고받는 것이 아니라, 명확한 목적과 방향을 가지고 외부와 연결된다.

# 인터페이스
- Lollipop: Provided Interface
- Socket: Required Interface

# 기능 제공 인터페이스
- 롤리팝
- 특징은 애플리케이션이 가지고 있는 기능을 외부 액터가 사용할 수 있게 노출함
- 애플리케이션이 제공하는 기능을 사용하는 액터: 프라이머리 액터

# 기능 요구 인터페이스
- 나는 이런 기능이 필요해, 이런 방식으로 연결해줘라고 요구하는 인터페이스
- 애플리케이션이 요구하는 기능을 제공하는 액터: secondary 액터

# 어댑터
- 애플리케이션의 포트를 액터가 직접 연결할 수 없다면 인터페이스의 변환을 위한 어댑터를 도입
- 브라우저를 통해서 애플리케이션의 회원 가입 포트의 기능 제공 인터페이스를 사용하려면?
  - 회원 가입 기능 제공 인터페이스를 사용하는 웹 컨트롤러 어댑터를 만든다
- 애플리케이션이 가진 회원 정보 저장 포트의 기능 요구 인터페이스로 DB와 직접 연결할 수 없다면?
  - 기능 요구 인터페이스를 구현한 리포지토리 어댑터를 만든다

# 포트와 어댑터 아키텍처
- 헥사고날 아키텍처의 특징을 담은 새로운 이름

# 헥사고날 아키텍처의 비대칭성
- 애플리케이션이 제공하는 기능을 사용하는 액터와 이를 위한 어댑터
  - primary actor, primary adapter
  - driving actor, driving adapter
- 애플리케이션이 동작하는데 필요한 기능을 제공하는 액터와 이를 위한 어댑터
  - secondary actor, secondary adapter
  - driven actor, driven adapter

# 오해: 애플리케이션 내부에 도메인 계층을 만들어야 한다.
- 헥사고날 아키텍처는 애플리케이션 내부 구현에 대한 원칙이나 요구사항이 없다
  - 스파게티 코드로 만들어도 된다
  - 트랜잭션 스크립트, 도메인 모델 패턴과 애플리케이션 서비스 등도 가능하다
  - 도메인 계층을 포함하는 아키텍처는 클린 아키텍처다.
- 헥사고날 아키텍처는 클린 아키텍처, 어니언 아키텍처가 아니다

# 오해: 헥사고날 아키텍처 패키지 구조를 따라야 한다
- 헥사고날 아키텍처가 요구하는 패키지 구조는 없다
- 애플리케이션과 어댑터 패키지를 분리하는 것은 바람직하다
- 포트를 구분된 패키지에 두는 것을 권장한다

# 오해: 포트는 UseCase라는 접미사를 사용한다
- 포트의 의도를 담은 이름을 사용하면 된다
- For + ~ing 스타일의 권장 네이밍이 있지만 이를 따를 필요는 없다

# 오해: 애플리케이션에는 도메인 모델만 넣고 JPA 엔티티 등은 어댑터에 둬야 한다
- 애플리케이션 코드와 포트 인터페이스가 외부 기술에 의존하지 않으면 된다

# 사실: 헥사고날 아키텍처가 요구하는 것
- 애플리케이션은 모든 외부와의 상호작용을 위해서 provided interface, required interface를 정의한다
- 애플리케이션과 상호작용 하는 액터는 런타임에 구성되어야 한다
- 애플리케이션은 액터에 대한 코드 의존성을 가지면 안된다
- 액터는 정의된 포트를 통해서만 연결해야 한다
- 포트의 인터페이스에는 기술 의존성을 가지지 않는다

# 헥사고날과 도메인 모델 패텬을 적용한 대칭형 계층 구조
- 외부에서 내부로 향하는 일종의 계층 구조
- 코드의 의존 방향은 내부로만 향한다
  - 어댑터 -> 애플리케이션 -> 도메인
- 단, 사용의 흐름은 비대칭적이다